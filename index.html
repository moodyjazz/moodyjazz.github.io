<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>moody jazz minis</title>
    <style>
        body {
            margin: 0;
            padding: 0 20px; /* Added padding to shift content from the edges */
            line-height: 1.6;
            font-family: sans-serif;
        }

        h1 {
            margin: 10px 0;
            text-align: left; /* Align headings to the left */
            padding-left: 10px; /* Added padding to create space from the edge */
        }

         h2 {
            margin: 10px 0;
            text-align: left; /* Align headings to the left */
            padding-left: 10px; /* Added padding to create space from the edge */
        }

        p {
            margin: 0 0 20px;
            text-align: left; /* Left-align paragraph text */
            padding-left: 10px; /* Added padding for consistency */
        }

        /* Responsive iframe */
        iframe {
            width: 100%;
            height: 600px; /* Adjusted height */
            max-height: 600px; /* Adjust as necessary */
            border: none; /* Remove the border for a cleaner look */
        }

        .pm-attribution-div {
            font-family: sans-serif;
            font-size: 12px;
            color: rgb(102, 102, 102);
            padding-top: 5px;
            margin-top: 10px;
            text-align: center; /* Centered attribution text */
        }

        /* Responsive list styling */
        ol {
            list-style-type: decimal; /* Ensured the list is numbered */
            padding: 0 20px; /* Added padding to the list */
            margin: 0; /* Reset margin */
            text-align: left; /* Left-aligned for readability */
        }

        li {
            margin-bottom: 5px; /* Reduced spacing between list items */
            text-align: left; /* Align text to the left for better readability */
        }

        details {
            display: inline; /* Keep the details inline with the list item */
            margin-left: 10px; /* Add some spacing */
        }

        details[open] p {
            display: block; /* Show notes on a new line when expanded */
            margin-top: 5px; /* Add some space above the note text */
        }

        /* Media queries for responsive design */
        @media (max-width: 600px) {
            h1 {
                font-size: 1.5em; /* Adjust heading size for mobile */
            }
            h2 {
                font-size: 1.2em; /* Adjust subheading size for mobile */
            }
            .pm-attribution-div {
                font-size: 10px; /* Smaller font for attribution on mobile */
            }
            iframe {
                height: 500px; /* Adjust height for mobile screens */
            }
        }
        /* Space at the bottom of the page */
        body::after {
            content: '';
            display: block;
            height: 100px; /* Increased height for more space at the bottom */
        }
    </style>
</head>
    
<body>
    <h1>moody jazz minis</h1>
    <p>play the most recent crossword, or scroll down for more. crosswords uploaded daily at 10 PM EST. there's a join function so you can play with friends too if you click the person icon with the plus symbol.  </p>
<br>

<div id="latest-puzzle">
  <h2>Loading latest puzzle...</h2>
</div>

    <br/>
   <h2>archive</h2>
<p>click the <u><b>puzzle</b></u> to play. click <b>jonathan's notes</b> for commentaryâ€”please note there may be <b>spoilers</b>. open at your own discretion</p>

<ol id="archive">
  <!-- Puzzle entries will be populated by JavaScript -->
</ol>

<script>
  fetch('puzzles.json')
    .then(response => response.json())
    .then(data => {
      // Sort puzzles by date descending
      data.sort((a, b) => new Date(b.date) - new Date(a.date));

      const latest = data[0]; // Get the most recent puzzle
      const latestPuzzleDiv = document.getElementById('latest-puzzle');
      const date = new Date(latest.date).toLocaleDateString(undefined, { year: 'numeric', month: 'short', day: 'numeric' });

      latestPuzzleDiv.innerHTML = `
        <h2>${latest.title} ${date}</h2>
        <iframe
          src="${latest.embedUrl}"
          style="border:none; width: 100%; height: 600px;"
          allow="web-share; fullscreen"
          aria-label="Latest Puzzle">
        </iframe>
      `;
    })
    .catch(error => {
      document.getElementById('latest-puzzle').innerHTML = '<h2>Unable to load the latest puzzle.</h2>';
      console.error('Error loading latest puzzle:', error);
    });
</script>

</body>
</html>
